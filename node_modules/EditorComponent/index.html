<!DOCTYPE html>
<html>

<head>
    <title>EditorComponent</title>
    <script type="text/javascript" src="node_modules/requirejs/require.js"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <style>
        #editorContainer {
            width: 90%;
            height: 95vh;
            margin-right: auto;
            margin-left: auto;
            border: 1px solid #000000;
        }
    </style>

</head>

<body>
    <div>
        <input type="button" id="changeOntologySourceButton" value="Change">
    </div>
    <div id="editorContainer"></div>
    <script type="text/javascript">
        function initForm(editorComponent) {
            document.getElementById("changeOntologySourceButton").onclick = function () {
                editorComponent.changeOntologySourceUrl('http://localhost:8052');
            }
        }

        var defaultEditorValue = [
            'SELECT * WHERE {',
            '?a ?b ?c',
            '}'
        ].join('\n');

        var debugMode = false;
        require(["dist/debug/sparqlEditor-" + (debugMode ? "debug" : "release")], function (bundle) {
            var container = document.getElementById("editorContainer");
            var settings = {
                monacoEditorUrl: "../node_modules/monaco-editor/min/vs",
                ontologySourceUrl: "http://localhost:8051",
                defaultEditorValue: defaultEditorValue,
                saveEditorValueInCookies: true,
                propertySelectorType: "Full",
                isLoggingEnabled: true
            };
            var editorComponent = debugMode ? new bundle.SparqlEditorDebug(container, settings) : new bundle.SparqlEditor(container, settings);
            editorComponent.init();
            initForm(editorComponent);
        });
    </script>
</body>

</html>