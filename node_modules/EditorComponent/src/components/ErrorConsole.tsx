import * as React from "react";
import { observer } from "mobx-react";
import { Card, CardHeader, CardTitle, CardText } from "material-ui/Card"
import { Paper, Divider, List, ListItem } from "material-ui"
import { ParserError } from "ERSParser"
import { ParserErrorStore } from "../store/ParserErrorsStore";

export interface ErrorConsoleProp {
    parserErrorStore: ParserErrorStore;
}

@observer
export class ErrorConsole extends React.Component<ErrorConsoleProp, any> {
    render() {
        return (
            <Paper>
                {
                    !this.props.parserErrorStore.containsHaltingError ? null :
                        <div style={{background:"AA00000"}}>
                            Until following errors are not resolve editor can not autocomplete.  
                        </div>
                }
                <List>
                    {
                        this.props.parserErrorStore.errors.map((x, i) =>
                            [<ListItem key={i} style={{ background: "#ffcdd2" }}>{x}</ListItem>,
                            <Divider />
                            ])
                    }
                </List>
            </Paper>
        );
    }
}
