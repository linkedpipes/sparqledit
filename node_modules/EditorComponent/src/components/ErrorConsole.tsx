import * as React from "react";
import { observer } from "mobx-react";
import { ParserError } from "ERSParser"
import { ParserErrorStore } from "../store/ParserErrorsStore";

export interface ErrorConsoleProp {
    parserErrorStore: ParserErrorStore;
}

@observer
export class ErrorConsole extends React.Component<ErrorConsoleProp, any> {
    render() {
        return (
            <div className="editorErrorConsole">
                {
                    !this.props.parserErrorStore.containsHaltingError ? null :
                        <div className="haltingError">
                            Until following errors are not resolve editor can not autocomplete.
                        </div>
                }
                <ul>
                    {
                        this.props.parserErrorStore.errors.map((error, i) => <li key={i}><span className="lineNumber">{error.lineNumber}:</span>{error.message}</li>)
                    }
                </ul>
            </div>
        );
    }
}
