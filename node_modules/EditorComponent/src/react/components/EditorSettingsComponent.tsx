import {EditorSettingsService} from '../service/EditorSettingsService';
import { EditorSettingsStore } from '../store/EditorSettingsStore';
import * as React from "react";
import { observer } from "EditorComponent/node_modules/mobx-react";

export interface EditorSettingsComponentProps {
    editorSettingsStore: EditorSettingsStore;
}

@observer
export class EditorSettingsComponent extends React.Component<EditorSettingsComponentProps, any> {
    private editorSettingsService = new EditorSettingsService();

    constructor() {
        super();
    }

    toggleSettings(name: string) {
        var editorSettingsStore = this.props.editorSettingsStore;
        var vaule = editorSettingsStore.getSettings(name) != true;
        editorSettingsStore.setSettings(name, vaule);
        this.editorSettingsService.saveSettingsToCookies(editorSettingsStore);
    }

    render() {
        return (
            <div>
                {this.props.editorSettingsStore.itemsDefinitions.map(item =>
                    <div key={item.name}>
                        <input type="checkbox" id={item.name} checked={this.props.editorSettingsStore.getSettings(item.name)} onChange={() => this.toggleSettings(item.name)} />
                        <label htmlFor={item.name}>{item.title}</label>
                    </div>)
                }
            </div>);
    }
}