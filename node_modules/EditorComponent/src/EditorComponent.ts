import * as angular from 'angular';
var main = require('./views/main.html');

export class EditorComponent {
    constructor(public container: HTMLElement) {

    }

    public init() {
        this.container.insertAdjacentHTML("beforeend", "<sparqleditorcomponent></sparqleditorcomponent>");

        var sparqlEditorComponentApp = angular
            .module('sparqlEditorComponentApp', []);

        // TODO: remove this and rewrite it to components            
        sparqlEditorComponentApp
            .run(['$templateCache', ($templateCache: any) => {
                $templateCache.put('views/pokus.html', require('./views/pokus.html'));
            }]);

        sparqlEditorComponentApp.component('sparqleditorcomponent', {
            template: main,
            controller: ['$scope', function ($scope) {
                $scope.neco = "ahojh";
            }]
        });

        //console.log(neco);
        angular.bootstrap(this.container, ['sparqlEditorComponentApp']);
    }
}