import { SparqlLanguageServer, Serializer, TurtleGraphWrapper, OntologyHierarchyBuilder, OntologyAssertionsBuilder, SparqlAutocompleteProvider, SparqlSignatureHelpProvider, SparqlLanguageServerFactory } from "SparqlAutocompletion";
import { SparqlEditorSettings } from "EditorComponent/src/editor/SparqlEditorSettings";
import { createHttpRequest } from "EditorComponent/src/utils/HttpRequest";

export class SparqlLanguageService {

    createtLanguageServer(
        sparqlEditorSettings: SparqlEditorSettings,
        resolve: (sparqlLanguageServer: SparqlLanguageServer) => void,
        reject: () => void) {

        var sparqlLanguageServerFactory = new SparqlLanguageServerFactory();

        createHttpRequest(sparqlEditorSettings.ontologySourceUrl,
            (responseContent) => {
                var sparqlLanguageServer = sparqlLanguageServerFactory.createFromEditorFormat(responseContent, {
                    propertySelectorType: sparqlEditorSettings.propertySelectorType
                });
                resolve(sparqlLanguageServer);
            },
            () => {
                reject();
            }
        );
    }
}