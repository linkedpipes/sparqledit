import { SparqlLanguageServer, Serializer, TurtleGraphWrapper, OntologyHiearchyBuilder, OntologyAssertionsBuilder, SparqlAutocompleteProvider, SparqlSignatureHelpProvider, SparqlLanguageServerFactory } from "SparqlAutocompletion";
import { createHttpRequest } from "EditorComponent/src/utils/HttpRequest";

export class SparqlLanguageService {
    private sparqlLanguageServer: SparqlLanguageServer;

    constructor() {
        // TODO: extract to parameters
        var source = 'http://localhost:8051';

        var sparqlLanguageServerFactory = new SparqlLanguageServerFactory();
        console.log('Ontology downloading...');

        createHttpRequest(source,
            (responseContent) => {
                console.log('Download completed.');
                this.sparqlLanguageServer = sparqlLanguageServerFactory.createFromEditorFormat(responseContent);
            },
            () => {
                console.log('downloading failed');
            }
        );
    }

    getLanguageServer() {
        return this.sparqlLanguageServer;
    }
}