import { EditorSettingsComponent } from "./components/EditorSettingsComponent";
import { IEditorPluginApi } from '../../EditorPluginApi';
import { IPlugin } from '../../IPlugin';
import { Tool, ToolType } from "../../../store/ToolStore";
import * as React from "react";

export class EditorSettingsTool implements IPlugin {

    init(editorPluginApi: IEditorPluginApi): void {
        // Load editor settings at startup
        var editorSettings = editorPluginApi.getEditorSettings();
        var editorSettingsService = editorPluginApi.getEditorSettingsService();
        editorSettingsService.loadSettingsFromCookies(editorSettings);
        
        // Add toolbar for change editor settings
        editorPluginApi.getToolStore().tools.push(new Tool(<EditorSettingsComponent
            editorSettingsStore={editorSettings}
            editorSettingsService={editorSettingsService}
        />, ToolType.Bottom))
    }
}