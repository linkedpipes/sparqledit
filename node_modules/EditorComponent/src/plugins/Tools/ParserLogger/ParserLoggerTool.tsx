import * as React from "react";
import { IEditorPluginApi } from '../../EditorPluginApi';
import { IPlugin } from '../../IPlugin';
import { Tool } from "../../../store/ToolStore";
import { ParserLogger } from "../../../components/ParserLogger";

export class ParserLoggerTool implements IPlugin {
    init(monacoEditor: monaco.editor.IStandaloneCodeEditor, editorPluginApi: IEditorPluginApi): void {

        function getEditorContent() {
            return monacoEditor.getModel().getValue();
        }

        editorPluginApi.getToolStore().tools.push(
            new Tool(<ParserLogger
                editorSettingsStore={editorPluginApi.getEditorSettings()}
                getEditorContent={getEditorContent} />
            ));
    }
}