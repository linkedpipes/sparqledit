import * as React from "react";
import { IEditorPluginApi } from '../../EditorPluginApi';
import { IPlugin } from '../../IPlugin';
import { Tool, ToolType } from "../../../store/ToolStore";
import { ParserLogger } from "./components/ParserLogger"

export class ParserLoggerTool implements IPlugin {
    init(editorPluginApi: IEditorPluginApi): void {
        var monacoEditor = editorPluginApi.getMonacoEditor();
        function getEditorContent() {
            return monacoEditor.getModel().getValue();
        }

        editorPluginApi.getToolStore().tools.push(
            new Tool(<ParserLogger getEditorContent={getEditorContent} />
                , "Parser logger", ToolType.SideBar));
    }
}