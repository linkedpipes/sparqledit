/**
 * Returns position (line, column) of offset index in text
 * @param {string} text 
 * @param {number} offset 
 * @returns {Object} position (line, column)
 */
function getPositionFromOffset(text, offset) {
    if (offset < 0) {
        offset = 0;
    }
    var line = 1;
    var column = 1;
    for (var i = 0; i < text.length; i++) {
        var currentChar = text[i]
        if (currentChar == '\r') {
            // do not add column
        } else if (currentChar == '\n') {
            line++;
            column = 1;
        }
        else {
            column++;
        }

        if (i == offset) {
            return { line: line, column: column };
        }
    }
    return { line: line, column: column };
}
module.exports.getPositionFromOffset = getPositionFromOffset