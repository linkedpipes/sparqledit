                var cstackNewValue = 1;
                if (len) {
                    stack = stack.slice(0,-1*len*2);
                    vstack = vstack.slice(0, -1*len);
                    lstack = lstack.slice(0, -1*len);
                    cstackNewValue =  1 + cstack.slice(-1*len, cstack.length).reduce(function(acc, x) { return acc+x }, 0);
                    cstack = cstack.slice(0, -1*len);
                }
                cstack.push(cstackNewValue);