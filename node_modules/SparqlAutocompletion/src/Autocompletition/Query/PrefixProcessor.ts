var escapeStringRegexp = require('escape-string-regexp');

export class PrefixProcessor {
    constructor(private prefixes: { [key: string]: string }) {

    }

    public processPrefixesInIri(iri: string): string {
        if (!this.prefixes) {
            return iri;
        }

        for (var prefix in this.prefixes) {
            var prefixValue = this.prefixes[prefix];
            iri = iri.replace(new RegExp("^" + escapeStringRegexp(prefixValue)), prefix + ":");
        }

        return iri;
    }
}