<!doctype html>
<html>

<head>
    <title>Graph visualisation</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.1/vis.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.18.1/vis-network.min.css" rel="stylesheet" type="text/css" />

    <style type="text/css">
        #classGraph {
            width: 1400px;
            height: 800px;
            border: 1px solid lightgray;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>

<body>

    <p>
        Create a simple network with some nodes and edges.
    </p>

    <textarea id="graphInput"></textarea> 
    Hiarchical <input type="checkbox" id="isHiearchicalLayoutCheckBox"></input>
    Physics <input type="checkbox" id="isPhysicsEnabledCheckBox"></input>
    <input type="button" onclick="showGraph()" value="Render"></input>
    <div id="classGraph"></div>

    <script type="text/javascript">
        function renderGraph(nodesData, edgesData) {
            var nodes = new vis.DataSet(nodesData);
            var edges = new vis.DataSet(edgesData);
            var container = document.getElementById('classGraph');
            var data = {
                nodes: nodes,
                edges: edges
            };

            var options = {
                edges: {
                    arrows: 'from',
                    // length: 200
                },
                nodes: {
                    shape: 'box'
                },
                physics: {
                    enabled: document.getElementById('isPhysicsEnabledCheckBox').checked,
                    barnesHut: {
                        gravitationalConstant: -2000,
                        centralGravity: 0.3,
                        springLength: 200,
                        springConstant: 0.04,
                        damping: 0.09,
                        avoidOverlap: 0
                    }
                }
            };

            if (document.getElementById('isHiearchicalLayoutCheckBox').checked) {
                options['layout'] = {
                    hierarchical: {
                        direction: 'UD'
                    }
                }
            }

            var network = new vis.Network(container, data, options);
        }

        function showGraph() {
            var graphInputSerialized = document.getElementById('graphInput').value;
            if (graphInputSerialized[0] == '"') {
                graphInputSerialized = graphInputSerialized.substring(1, graphInputSerialized.length - 1);
            }
            var graphInput = JSON.parse(graphInputSerialized);
            renderGraph(graphInput.nodes, graphInput.edges);
        }
    </script>

</body>

</html>